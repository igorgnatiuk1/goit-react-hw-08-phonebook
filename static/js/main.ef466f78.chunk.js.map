{"version":3,"sources":["redux/authSlice.js","redux/userApi.js","redux/phonebookApi.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/Container.js","components/Layout.js","components/AuthNav/AuthNav.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AppBar.js","components/PrivateRout.js","components/PublicRout.js","App.js","redux/store.js","index.js"],"names":["initState","user","name","email","token","isLoggedIn","authSlice","createSlice","initialState","reducers","setCredentials","state","payload","removeCredentials","setCurrentUser","actions","getUserName","auth","getToken","getIsLogedIn","usersApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","getState","set","tagTypes","endpoints","builder","getCurrentUser","query","providesTags","signupUser","mutation","url","method","body","password","transformResponse","response","data","invalidatesTags","loginUser","logoutUser","useGetCurrentUserQuery","useSignupUserMutation","useLoginUserMutation","useLogoutUserMutation","contactsApi","getContacts","addContact","number","deleteContact","id","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","module","exports","Container","children","Layout","AuthNav","to","className","styles","link","Navigation","useSelector","exact","UserMenu","dispatch","useDispatch","logOut","span","Button","variant","color","type","size","onClick","AppBar","isToken","useEffect","PrivateRoute","redirectTo","routeProps","isLogedIn","PublicRoute","restricted","routProps","renderFlag","HomePage","lazy","RegistrationPage","LoginPage","ContactsPage","useStyles","makeStyles","theme","root","width","marginTop","spacing","App","classes","fallback","LinearProgress","path","userPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.ef466f78.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initState = {\r\n    user: {\r\n        name: null,\r\n        email: null,\r\n    },\r\n    token: null,\r\n    isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState: initState,\r\n    reducers: {\r\n        setCredentials: (state, { payload: { user, token } }) => {\r\n            state.user = user;\r\n            state.token = token;\r\n            state.isLoggedIn = true;\r\n        },\r\n        removeCredentials: () => initState,\r\n        setCurrentUser: (state, { payload }) => {\r\n            state.user = { ...payload };\r\n            state.isLoggedIn = true;\r\n        },\r\n    },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n\r\nexport const { setCredentials, removeCredentials, setCurrentUser } =\r\n    authSlice.actions;\r\n\r\nexport const getUserName = state => state.auth.user.name;\r\nexport const getToken = state => state.auth.token;\r\nexport const getUser = state => state.auth.user;\r\nexport const getIsLogedIn = state => state.auth.isLoggedIn;","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const usersApi = createApi({\r\n    reducerPath: 'usersApi',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: 'https://connections-api.herokuapp.com/',\r\n        prepareHeaders: (headers, { getState }) => {\r\n            const token = getState().auth.token;\r\n            if (token) {\r\n                headers.set('authorization', `Bearer ${token}`);\r\n            }\r\n            return headers;\r\n        },\r\n    }),\r\n    tagTypes: ['Users'],\r\n    endpoints: builder => ({\r\n        getCurrentUser: builder.query({\r\n            query: () => '/users/current',\r\n            providesTags: ['Users'],\r\n        }),\r\n        signupUser: builder.mutation({\r\n            query: ({ name, email, password }) => ({\r\n                url: '/users/signup',\r\n                method: 'POST',\r\n                body: {\r\n                    name: name,\r\n                    email: email,\r\n                    password: password,\r\n                },\r\n                transformResponse: response => response.data,\r\n            }),\r\n            invalidatesTags: ['Users'],\r\n        }),\r\n        loginUser: builder.mutation({\r\n            query: ({ email, password }) => ({\r\n                url: '/users/login',\r\n                method: 'POST',\r\n                body: {\r\n                    email,\r\n                    password,\r\n                },\r\n            }),\r\n            invalidatesTags: ['Users'],\r\n        }),\r\n        logoutUser: builder.mutation({\r\n            query: () => ({\r\n                url: 'users/logout',\r\n                method: 'POST',\r\n            }),\r\n            invalidatesTags: ['Users'],\r\n        }),\r\n    }),\r\n});\r\n\r\nexport const {\r\n    useGetCurrentUserQuery,\r\n    useSignupUserMutation,\r\n    useLoginUserMutation,\r\n    useLogoutUserMutation,\r\n} = usersApi;","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nexport const contactsApi = createApi({\r\n    reducerPath: 'contactsApi',\r\n    baseQuery: fetchBaseQuery({\r\n        baseUrl: 'https://connections-api.herokuapp.com/',\r\n        prepareHeaders: (headers, { getState }) => {\r\n            const token = getState().auth.token;\r\n            if (token) {\r\n                headers.set('authorization', `Bearer ${token}`);\r\n            }\r\n            return headers;\r\n        },\r\n    }),\r\n    tagTypes: ['Contacts'],\r\n    endpoints: builder => ({\r\n        getContacts: builder.query({\r\n            query: () => '/contacts',\r\n            providesTags: ['Contacts'],\r\n        }),\r\n        addContact: builder.mutation({\r\n            query: ({ name, number }) => ({\r\n                url: '/contacts',\r\n                method: 'POST',\r\n                body: {\r\n                    name,\r\n                    number,\r\n                },\r\n            }),\r\n            invalidatesTags: ['Contacts'],\r\n        }),\r\n        deleteContact: builder.mutation({\r\n            query: id => ({\r\n                url: `/contacts/${id}`,\r\n                method: 'DELETE',\r\n            }),\r\n            invalidatesTags: ['Contacts'],\r\n        }),\r\n    }),\r\n});\r\n\r\nexport const {\r\n    useGetContactsQuery,\r\n    useAddContactMutation,\r\n    useDeleteContactMutation,\r\n} = contactsApi;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__3dVlO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__g1FIV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"span\":\"UserMenu_span__Hb31N\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nconst Container = ({ children }) => {\r\n    return <div >{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Container from './Container';\r\n\r\nconst Layout = ({ children }) => (\r\n    <>\r\n        <Container>{children}</Container>\r\n    </>\r\n);\r\n\r\nLayout.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Layout;","import { NavLink } from 'react-router-dom';\r\nimport styles from './AuthNav.module.css'\r\n\r\n\r\nexport default function AuthNav() {\r\n    return (\r\n        <div >\r\n            <NavLink\r\n                to=\"/register\"\r\n                className={styles.link}\r\n\r\n            >\r\n                Registration\r\n            </NavLink>\r\n\r\n            <NavLink\r\n                to=\"/login\"\r\n                className={styles.link}\r\n            >\r\n                LogIn\r\n            </NavLink>\r\n        </div>\r\n    );\r\n}","import { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getIsLogedIn } from '../../redux/authSlice';\r\nimport styles from './Navigation.module.css'\r\n\r\n\r\nconst Navigation = () => {\r\n    const isLoggedIn = useSelector(getIsLogedIn);\r\n\r\n    return (\r\n        <nav >\r\n            {isLoggedIn && (\r\n                <>\r\n                    <NavLink\r\n                        to=\"/home\"\r\n                        exact\r\n                        className={styles.link}\r\n                    >\r\n                        Home\r\n                    </NavLink>\r\n\r\n                    <NavLink\r\n                        to=\"/contacts\"\r\n                        className={styles.link}\r\n                    >\r\n                        Contacts\r\n                    </NavLink>\r\n                </>\r\n            )}\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navigation;","import { Button } from '@material-ui/core';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUserName, removeCredentials } from '../../redux/authSlice';\r\nimport { useLogoutUserMutation } from '../../redux/userApi';\r\nimport styles from './UserMenu.module.css'\r\n\r\nexport default function UserMenu() {\r\n    const dispatch = useDispatch();\r\n    const name = useSelector(getUserName);\r\n    const [logOut] = useLogoutUserMutation();\r\n\r\n    const handleBtnClick = () => {\r\n        logOut();\r\n        dispatch(removeCredentials());\r\n    };\r\n\r\n    return (\r\n        <div >\r\n            <span className={styles.span}>Welcome, {name}</span>\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                type=\"button\"\r\n                size=\"small\"\r\n                onClick={handleBtnClick}\r\n            >\r\n                Log Out\r\n            </Button>\r\n        </div>\r\n    );\r\n}","import { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getToken, setCurrentUser } from '../redux/authSlice';\r\nimport { useGetCurrentUserQuery } from '../redux/userApi';\r\n\r\nimport AuthNav from './AuthNav/AuthNav';\r\nimport Navigation from './Navigation/Navigation';\r\nimport UserMenu from './UserMenu/UserMenu';\r\n\r\nimport { getIsLogedIn } from '../redux/authSlice';\r\n\r\n\r\n\r\nexport default function AppBar() {\r\n    const isLoggedIn = useSelector(getIsLogedIn);\r\n    const dispatch = useDispatch();\r\n    const isToken = useSelector(getToken);\r\n    const { data: user } = useGetCurrentUserQuery(isToken);\r\n\r\n    useEffect(() => {\r\n        if (isToken === null) return;\r\n        dispatch(setCurrentUser(user));\r\n    }, [isToken, dispatch, user]);\r\n\r\n    return (\r\n        <header >\r\n            <Navigation />\r\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n        </header>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getIsLogedIn } from '../redux/authSlice';\r\n\r\nexport default function PrivateRoute({\r\n                                         children,\r\n                                         redirectTo = '/',\r\n                                         ...routeProps\r\n                                     }) {\r\n    const isLogedIn = useSelector(getIsLogedIn);\r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLogedIn ? children : <Redirect to={redirectTo} />}\r\n        </Route>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { getIsLogedIn } from '../redux/authSlice';\r\n\r\nexport default function PublicRoute({\r\n                                        children,\r\n                                        restricted = false,\r\n                                        redirectTo = '/',\r\n                                        ...routProps\r\n                                    }) {\r\n    const isLogedIn = useSelector(getIsLogedIn);\r\n    const renderFlag = isLogedIn && restricted;\r\n    return (\r\n        <Route {...routProps}>\r\n            {renderFlag ? <Redirect to={redirectTo} /> : children}\r\n        </Route>\r\n    );\r\n}","import { Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport './App.css'\n\nimport Layout from './components/Layout';\nimport AppBar from './components/AppBar';\nimport PrivateRoute from './components/PrivateRout';\nimport PublicRoute from './components/PublicRout';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LinearProgress } from '@material-ui/core';\n\nconst HomePage = lazy(() => import('./pages/HomePage'));\nconst RegistrationPage = lazy(() => import('./pages/RegistrationPage'));\nconst LoginPage = lazy(() => import('./pages/LoginPage'));\nconst ContactsPage = lazy(() => import('./pages/ContactsPage'));\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function App() {\n  const classes = useStyles();\n\n  return (\n      <Layout>\n        <AppBar />\n\n        <Suspense\n            fallback={\n              <div className={classes.root}>\n                <LinearProgress color=\"secondary\" />\n              </div>\n            }\n        >\n          <Switch>\n            <PublicRoute path=\"/\" exact>\n              <h1>Hello, start to work</h1>\n            </PublicRoute>\n\n            <PublicRoute path=\"/register\" redirectTo=\"/login\" restricted>\n              <RegistrationPage />\n            </PublicRoute>\n\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\n              <LoginPage />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/home\">\n              <HomePage />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n              <ContactsPage />\n            </PrivateRoute>\n          </Switch>\n        </Suspense>\n      </Layout>\n  );\n}\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport {\r\n    persistStore,\r\n    persistReducer,\r\n    FLUSH,\r\n    REHYDRATE,\r\n    PAUSE,\r\n    PERSIST,\r\n    PURGE,\r\n    REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport { contactsApi } from './phonebookApi';\r\nimport { usersApi } from './userApi';\r\nimport auth from './authSlice';\r\n\r\nconst userPersistConfig = {\r\n    key: 'auth',\r\n    storage,\r\n    whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        [contactsApi.reducerPath]: contactsApi.reducer,\r\n        [usersApi.reducerPath]: usersApi.reducer,\r\n        auth: persistReducer(userPersistConfig, auth),\r\n    },\r\n    middleware: getDefaultMiddleware => [\r\n        ...getDefaultMiddleware({\r\n            serializableCheck: {\r\n                ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n            },\r\n        }),\r\n        contactsApi.middleware,\r\n        usersApi.middleware,\r\n    ],\r\n    devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './App';\nimport { store, persistor } from './redux/store';\n\nimport 'modern-normalize/modern-normalize.css';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <HashRouter>\n                <PersistGate loading={null} persistor={persistor}>\n                    <App />\n                </PersistGate>\n            </HashRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}